{% extends 'ROM/frontend/layouts/master.html' %}

{% load widget_tweaks %}

{% block content %}


  <div id="slider-container">
    <span onclick="slideRight()" class="btn"></span>
      <div id="slider">
        <div class="slide">
        
      
              <table class="table table-bordered">
                  <thead>
                      <tr>
                          <th>Studio under 1000sqft</th>
                          
                      </tr>
                  </thead>
                  <tbody>
                      <tr>
                          <td>$ 270 <br>Flat rate</td>
                          
                      </tr>
                      <tr>
                          <td>Estimated time <br>4 hours</td>
                      
                      </tr>

                      <tr>
                          <td><button class="button">BOOK NOW</button> </td>
                      </tr>
                      
                  </tbody>

                 
                </table>
            
       </div>


        <div class="slide">
            
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Studio under 1000sqft</th>
                        
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>$ 270 <br>Flat rate</td>
                        
                    </tr>
                    <tr>
                        <td>Estimated time <br>4 hours</td>
                    
                    </tr>

                    <tr>
                        <td><button class="button">BOOK NOW</button> </td>
                    </tr>
                    
                </tbody>

               
              </table>
        </div>
        <div class="slide"><span>3<span></div>
        <div class="slide"><span>4</span></div>
        <div class="slide"><span>5</span></div>
        <div class="slide"><span>6</span></div>
        <div class="slide"><span>7</span></div>
        <div class="slide"><span>8</span></div>
        <div class="slide"><span>9</span></div>
        <div class="slide"><span>10</span></div>
    </div>
    <span onclick="slideLeft()" class="btn"></span>
  </div>


<script>
        var container = document.getElementById('container')
        var slider = document.getElementById('slider');
        var slides = document.getElementsByClassName('slide').length;
        var buttons = document.getElementsByClassName('btn');


        var currentPosition = 0;
        var currentMargin = 0;
        var slidesPerPage = 0;
        var slidesCount = slides - slidesPerPage;
        var containerWidth = container.offsetWidth;
        var prevKeyActive = false;
        var nextKeyActive = true;

        window.addEventListener("resize", checkWidth);

        function checkWidth() {
        containerWidth = container.offsetWidth;
        setParams(containerWidth);
        }

        function setParams(w) {
        if (w < 551) {
            slidesPerPage = 1;
        } else {
            if (w < 901) {
                slidesPerPage = 2;
            } else {
                if (w < 1101) {
                    slidesPerPage = 3;
                } else {
                    slidesPerPage = 4;
                }
            }
        }
        slidesCount = slides - slidesPerPage;
        if (currentPosition > slidesCount) {
            currentPosition -= slidesPerPage;
        };
        currentMargin = - currentPosition * (100 / slidesPerPage);
        slider.style.marginLeft = currentMargin + '%';
        if (currentPosition > 0) {
            buttons[0].classList.remove('inactive');
        }
        if (currentPosition < slidesCount) {
            buttons[1].classList.remove('inactive');
        }
        if (currentPosition >= slidesCount) {
            buttons[1].classList.add('inactive');
        }
        }

        setParams();

        function slideRight() {
        if (currentPosition != 0) {
            slider.style.marginLeft = currentMargin + (100 / slidesPerPage) + '%';
            currentMargin += (100 / slidesPerPage);
            currentPosition--;
        };
        if (currentPosition === 0) {
            buttons[0].classList.add('inactive');
        }
        if (currentPosition < slidesCount) {
            buttons[1].classList.remove('inactive');
        }
        };

        function slideLeft() {
        if (currentPosition != slidesCount) {
            slider.style.marginLeft = currentMargin - (100 / slidesPerPage) + '%';
            currentMargin -= (100 / slidesPerPage);
            currentPosition++;
        };
        if (currentPosition == slidesCount) {
            buttons[1].classList.add('inactive');
        }
        if (currentPosition > 0) {
            buttons[0].classList.remove('inactive');
        }
        };
</script>
  
  


{% endblock %}